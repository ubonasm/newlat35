# newlat35
# 授業分析システム

Streamlitを使用した授業記録の分析ツールです。形態素解析とAIを活用して、授業の流れや話者の特徴を可視化します。

## 機能

- 📝 **形態素解析**: 日本語の授業記録を単語単位で分析
- 📚 **カスタム辞書**: 授業独特の用語を優先的に認識
- 👥 **話者分析**: 各話者の主張と使用語彙を可視化
- 📊 **セグメント分析**: AIが授業をテーマごとに自動分割
- 🔄 **語の遷移**: セグメント間での語の引き継ぎを分析

## Streamlit Cloudでのデプロイ

### 必要なファイル
- `classroom_analyzer.py` - メインアプリケーション
- `requirements.txt` - Python依存パッケージ

### デプロイ手順

1. **GitHubリポジトリを作成**
   - 上記2つのファイルをリポジトリにプッシュ

2. **Streamlit Cloudにデプロイ**
   - [share.streamlit.io](https://share.streamlit.io)にアクセス
   - GitHubアカウントでログイン
   - 「New app」をクリック
   - リポジトリとファイルパス（`classroom_analyzer.py`）を指定
   - 「Deploy」をクリック

3. **環境変数の設定（オプション）**
   - Streamlit CloudのダッシュボードでAPIキーを環境変数として設定可能
   - 変数名: `GROQ_API_KEY`

## ローカルでの実行

### 1. 依存パッケージのインストール

\`\`\`bash
pip install -r requirements.txt
\`\`\`

### 2. Groq APIキーの取得（無料）

1. [console.groq.com](https://console.groq.com)にアクセス
2. アカウントを作成（無料）
3. APIキーを生成

### 3. アプリケーションの起動

\`\`\`bash
streamlit run classroom_analyzer.py
\`\`\`

## 使い方

### 入力ファイル形式

#### 授業記録CSV
\`\`\`csv
No,Speaker,Utterance
1,教師,今日は分数の計算について学びます
2,生徒A,分数って何ですか？
3,教師,分数は全体を等しく分けた一部を表す数です
\`\`\`

#### カスタム辞書CSV（オプション）
\`\`\`csv
分数,ブンスウ
等しく,ヒトシク
計算方法,ケイサンホウホウ
\`\`\`

### 分析手順

1. **APIキー入力**: サイドバーにGroq APIキーを入力
2. **ファイルアップロード**: 授業記録CSVをアップロード
3. **辞書アップロード**（オプション）: カスタム辞書CSVをアップロード
4. **分析実行**: 「分析を開始」ボタンをクリック
5. **結果確認**: 各タブで分析結果を確認

## 分析結果

### 話者分析
- 各話者の発言数
- 使用頻度の高い語
- 発言例の表示

### セグメント分析
- 授業の流れを視覚化
- 各セグメントのテーマと要約
- セグメントごとの主要語（上位20語）

### 語の遷移分析
- セグメント間で引き継がれる語
- 影響力スコア
- テーマの変化を可視化

## 技術スタック

- **Streamlit**: Webアプリケーションフレームワーク
- **Janome**: 日本語形態素解析
- **Groq API**: AI分析（無料枠あり）
- **Plotly**: インタラクティブな可視化
- **NetworkX**: グラフ構造の分析

## 注意事項

- Groq APIの無料枠には制限があります
- 大量のデータを分析する場合は、APIの利用制限に注意してください
- カスタム辞書は長い語から優先的にマッチングされます

## ライセンス

MIT License
